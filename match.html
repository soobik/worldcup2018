<!doctype html>
<html lang="en">

<head>
    <title>WorldCup 2018</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link href="https://fonts.googleapis.com/css?family=Cabin|Merriweather+Sans" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Rancho" rel="stylesheet">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
        crossorigin="anonymous">
        <link rel="stylesheet" href="css/style.css">
</head>

<body>
    <!--HEADER-->
    <!--Menu-->
    <header class="container-fluid bg-primary">
        <div class="container">
            <nav class="navbar navbar-expand-lg navbar-dark bg-transparent">
                <a class="navbar-brand" href="/">
                    <img src="img/logo-2018.jpg" class="rounded logo">
                </a>
                <button class="navbar-toggler hidden-lg-up" type="button" data-toggle="collapse" data-target="#collapsibleNavId" aria-controls="collapsibleNavId"
                    aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse justify-content-end" id="collapsibleNavId">
                    <ul class="navbar-nav mr-auto mt-2 mt-lg-0">
                        <li class="nav-item m-5">
                            <a class="nav-link" href="/">Accueil
                            </a>
                        </li>
                        <!--  <li class="nav-item m-5">
                            <a class="nav-link" href="#">Groupes</a>
                        </li>-->
                        <li class="nav-item m-5">
                            <a class="nav-link" href="equipe">Equipes</a>
                        </li>
                        <li class="nav-item active m-5">
                            <a class="nav-link" href="match">Phase de groupes
                            </a>
                        </li>
                        <li class="nav-item m-5">
                            <a class="nav-link" href="knockout">Second tour</a>
                        </li>
                        <li class="nav-item m-5">
                            <a class="nav-link" href="stadiums">Stades</a>
                        </li>
                        <!-- <li class="nav-item m-5">
                            <a class="nav-link" href="joueurs">Joueurs</a>
                        </li> -->
                        <li class="nav-item m-5">
                            <a class="nav-link" href="score">Classement par groupe</a>
                        </li>
                    </ul>
                </div>
            </nav>
        </div>
    </header>

    <!--MAIN--> 
    <main id="main">
        <h3 class="title-knock text-center mt-5 ">MATCH</h3>

    <div class="container">     
            
        <div id="day_14" class=" list-group">
            <a href="#" class="list-group-item list-group-item-action flex-column align-items-start active mt-5">
                <div class=" w-100 mt-3">
                    <h5 class="mb-1">Jeudi 14 juin</h5>
                </div>
            </a>
            <!--Liste vide implémentée par le script-->

        </div>
    </div>
    <div class="container">
    
        <div id="day_15" class=" list-group">
            <a href="#" class="list-group-item list-group-item-action flex-column align-items-start active mt-5">
                <div class=" w-100 mt-3">
                    <h5 class="mb-1">Vendredi 15 juin</h5>
                </div>
            </a>
            <!--Liste vide implémentée par le script-->
    
        </div>
    </div>
    <div class="container">
    
        <div id="day_16" class=" list-group">
            <a href="#" class="list-group-item list-group-item-action flex-column align-items-start active mt-5">
                <div class=" w-100 mt-3">
                    <h5 class="mb-1">Samedi 16 juin</h5>
                </div>
            </a>
            <!--Liste vide implémentée par le script-->
    
        </div>
    </div>
    <div class="container">
    
        <div id="day_17" class=" list-group">
            <a href="#" class="list-group-item list-group-item-action flex-column align-items-start active mt-5">
                <div class=" w-100 mt-3">
                    <h5 class="mb-1">Dimanche 17 juin</h5>
                </div>
            </a>
            <!--Liste vide implémentée par le script-->
    
        </div>
    </div>
    <div class="container">
    
        <div id="day_18" class=" list-group">
            <a href="#" class="list-group-item list-group-item-action flex-column align-items-start active mt-5">
                <div class=" w-100 mt-3">
                    <h5 class="mb-1">lundi 18 juin</h5>
                </div>
            </a>
            <!--Liste vide implémentée par le script-->
    
        </div>
    </div>

    <div class="container">
    
        <div id="day_19" class=" list-group">
            <a href="#" class="list-group-item list-group-item-action flex-column align-items-start active mt-5">
                <div class=" w-100 mt-3">
                    <h5 class="mb-1">Mardi 19 juin</h5>
                </div>
            </a>
            <!--Liste vide implémentée par le script-->
    
        </div>
    </div>
    <div class="container">
    
        <div id="day_20" class=" list-group">
            <a href="#" class="list-group-item list-group-item-action flex-column align-items-start active mt-5">
                <div class=" w-100 mt-3">
                    <h5 class="mb-1">Mercredi 20 juin</h5>
                </div>
            </a>
            <!--Liste vide implémentée par le script-->
    
        </div>
    </div>

    <div class="container">
    
        <div id="day_21" class=" list-group">
            <a href="#" class="list-group-item list-group-item-action flex-column align-items-start active mt-5">
                <div class=" w-100 mt-3">
                    <h5 class="mb-1">Jeudi 21 juin</h5>
                </div>
            </a>
            <!--Liste vide implémentée par le script-->
    
        </div>
    </div>
    <div class="container">
    
        <div id="day_22" class=" list-group">
            <a href="#" class="list-group-item list-group-item-action flex-column align-items-start active mt-5">
                <div class=" w-100 mt-3">
                    <h5 class="mb-1">Vendredi 22 juin</h5>
                </div>
            </a>
            <!--Liste vide implémentée par le script-->
    
        </div>
    </div>
       
    <div class="container">
    
        <div id="day_23" class=" list-group">
            <a href="#" class="list-group-item list-group-item-action flex-column align-items-start active mt-5">
                <div class=" w-100 mt-3">
                    <h5 class="mb-1">Samedi 23 juin</h5>
                </div>
            </a>
            <!--Liste vide implémentée par le script-->
    
        </div>
    </div>
    <div class="container">
    
        <div id="day_24" class=" list-group">
            <a href="#" class="list-group-item list-group-item-action flex-column align-items-start active mt-5">
                <div class=" w-100 mt-3">
                    <h5 class="mb-1">Dimanche 24 juin</h5>
                </div>
            </a>
            <!--Liste vide implémentée par le script-->
    
        </div>
    </div>

    <div class="container">
    
        <div id="day_25" class=" list-group">
            <a href="#" class="list-group-item list-group-item-action flex-column align-items-start active mt-5">
                <div class=" w-100 mt-3">
                    <h5 class="mb-1">Lundi 25 juin</h5>
                </div>
            </a>
            <!--Liste vide implémentée par le script-->
    
        </div>
    </div>
    <div class="container">
    
        <div id="day_26" class=" list-group">
            <a href="#" class="list-group-item list-group-item-action flex-column align-items-start active mt-5">
                <div class=" w-100 mt-3">
                    <h5 class="mb-1">Mardi 26 juin</h5>
                </div>
            </a>
            <!--Liste vide implémentée par le script-->
    
        </div>
    </div>
    <div class="container">
    
        <div id="day_27" class=" list-group">
            <a href="#" class="list-group-item list-group-item-action flex-column align-items-start active mt-5">
                <div class=" w-100 mt-3">
                    <h5 class="mb-1">Mercredi 27 juin</h5>
                </div>
            </a>
            <!--Liste vide implémentée par le script-->
    
        </div>
    </div>
    <div class="container">
    
        <div id="day_28" class=" list-group">
            <a href="#" class="list-group-item list-group-item-action flex-column align-items-start active mt-5">
                <div class=" w-100 mt-3">
                    <h5 class="mb-1">Jeudi 28 juin</h5>
                </div>
            </a>
            <!--Liste vide implémentée par le script-->
    
        </div>
    </div>
</main>

  <!--FOOTER--> 
<footer class="container-fluid bg-dark mt-5">
    <div class="container">
        <div class="row justify-content-center text-center text-white p-3">
            <ul class="list-inline">
                <li class="list-inline-item mt-1">
                    &copy; 2018 WORLDCUP
                </li>    
                <li class="list-inline-item">
                    <a href="#" class="badge badge-dark">Privacy</a>
                </li>
                <li class="list-inline-item">
                    <a href="#" class="badge badge-dark">Terms</a>
                </li>
                <li class="list-inline-item">
                    <a href="#" class="badge badge-dark">Support</a>
                </li>
            </ul>
        </div>
    </div>
</footer>
  
<!-- Optional JavaScript -->
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
          crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
<script src="services.js"></script>
<script>


    $(document).ready(function () {
        var equipes = [];
        services("equipes", function (dataEquipe) {
            dataEquipe.forEach(function(element) {
                equipes.push(element);
            });     
            //Affichage du nom du stade en fonction de l'id
            var stades = [];
            services("stadiums", function (data) {
                data.stadiums.forEach(function (element) {
                    stades.push(element);
                });


                services("groups", function (data) {

                    // Fonction qui push les valeurs du tableau matches de "groups.json" dans un nouveau tableau
                    var tableauMatch = [];
                    for (i in data.groups) {
                        for (j in data.groups[i].matches) {
                            tableauMatch.push(data.groups[i].matches[j]);

                            //console.log(data.groups[i].matches);
                        };
                        
                        //console.log(data.groups);
                    }

                    for (i in data.groups) {
                         //  console.log("zzz",i.name);
                        for (j in tableauMatch) {
                        //   console.log("aaa",tableauMatch);
                         tableauMatch[j].group = data.groups[i].name;
                        }
                    }

                   console.log(tableauMatch);
                    // Classement des matches par ordre chronologique
                    tableauMatch.sort(function (a, b) {
                        return a.name - b.name;
                    });


                    for (var i = 0, c = tableauMatch.length; i < c; i++) {
                        // Mise en forme de la date et affichage de l'heure
                        var d = new Date(tableauMatch[i].date);
                        var date = d.toLocaleDateString();
                        var hours = d.getHours();
                        var day = d.getDate();


                        // Classement des matches par jour

                        for (j = 14; j < 29; j++) {
                            if (day == j) {
                              //  console.log("equipes =>",equipes[0].pays);
                                $('#day_' + [j]).append('<div class="list-group-item mx-0"><div class="row"><div class="col-lg-4"><p><small>' + date + " à " + hours + " h" + '</small></p>' + '<p><small>' +tableauMatch[i].group +'</small></p><a class="text-dark" href="#"><small>' + stades[tableauMatch[i].stadium - 1].name + '</small></a></div>' + '<div class="col-lg-8 text-center align-self-center"><p>' + equipes[tableauMatch[i].home_team-1].pays + " VS " + equipes[tableauMatch[i].away_team-1].pays + '</p></div></div>')
                            }
                        }
                    }
                });
            });
        });
     });



</script>




</body>
</html>